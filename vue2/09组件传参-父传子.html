<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Vue 组件传参</title>
<script src="https://cdn.staticfile.org/vue/2.6.2/vue.min.js"></script>
</head>
<body>
<div id="parent">
  <!-- 使用自定义属性传参 -->
  <child-1 :propmessage="message"></child-1>
</div>

<script>
  Vue.component('child-1', {
    props: ['propmessage'],
    // 在任何后代组件里，我们都可以使用 inject 选项来接收指定的我们想要添加在这个实例上的 property
    inject: ['provideMessage'],
    data: function() {
      return {
        // 在每个 new Vue 实例的子组件中，其根实例可以通过 $root property 进行访问
        message: this.$root.message,
        // $parent property 可以用来从一个子组件访问父组件的实例。
        parentMessage: this.$parent.message,
      }
    },
    template: `
      <div>
        <div>child-1 get rootMessage is :{{ message }}</div>
        <div>child-1 get parentMessage is :{{ parentMessage }}</div>
        <div>child-1 get propsMessage is :{{ propmessage }}</div>
        <div>inject content is : {{ provideMessage }}</div>
      </div>
    `
  })
  new Vue({
    el: '#parent', // 渲染跟根组件选择器名称
    data: { // 双向绑定数据
      message: 'parent message!'
    },
    // provide 选项允许我们指定我们想要提供给后代组件的数据/方法
    // provide 提高了组件间耦合度，同时所提供的 property 是非响应式的
    provide: function () {
      return {
        provideMessage: this.message
      }
    }
  })
</script>
</body>
</html>